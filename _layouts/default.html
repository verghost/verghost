<!DOCTYPE html>

{% case page.project %}
	{% when "vld" %}
		<!-- VLC-Lua-Docs -->
		{% if page.vld-meta-version %}
			{% assign versions = page.vld-meta-version | split: "," %}
		{% endif %}
	{% else %}
		<!-- NO_TYPE -->
{% endcase %}

<html lang="{{ site.lang | default: "en-US" }}">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="theme-color" content="#157878">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
		<script src="/js/vglib.js"></script>
		<style>
			/* Sidebar */
			.sidebar {
				margin: 0;
				padding: 0;
				width: 200px;
				position: fixed;
				box-sizing: border-box;
				left: 0 !important;
				right: 0 !important;
				top: 0 !important;
				bottom: 0 !important;
				height: 100%;
				overflow: visible;
				z-index: 1000000000;
				transition: transform .3s ease-in;
			}
			#sidebar-links {
				overflow-x: visible;
				overflow-y: scroll;
			}
			.sidebar a {
				display: block;
				/* border: 2px solid #606c71; */
				color: #606c71;
				text-decoration: none;
			}
			.sidebar a.active {
				background-color: #4CAF50;
				color: white;
			}
			.sidebar a:hover:not(.active) {
				background-color: #555;
				color: white;
			}
			#sidebar-icon {
				position: fixed;
				top: 0 !important;
				z-index: 1000000001;
				border-color: currentcolor;
				transition: transform .3s ease-out;
			}
			#btn-sidebar-icon {
				background-color: #fff;
			}
			#sidebar-panel {
				box-sizing: border-box;
				background-color: #fff;
				border-right: 1px solid #dfe2e5;
				height: 100%;
			}
			#sidebar-header {
				margin-top: 2px;
				margin-left: 68px;
				height: 65px;
			}
			.squarei {
				padding-right: 20px;
				padding-left: 20px;
				padding-bottom: 15px;
				padding-top: 15px;
				text-align: center;
				text-decoration: none;
				display: inline;
				font-size: 14px;
				transition: 0.4s;
				cursor: pointer;
				margin: 5px;
			}
			.squarei:hover {
				box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);
			}
			.squarei:active {
				box-shadow: 0 5px light-grey;
				transform: translateY(2px);
				transition: 0.01s;
			}  
		</style>
	</head>
	<body>
		<header class="page-header" role="banner" style="padding-top: 20px; padding-bottom: 10px;">
			  <h1 class="project-name">{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
			  <h2 class="project-tagline">{{ page.debug | "" }}</h2>
		</header>
		<div id="sidebar-icon">
			<button id="btn-sidebar-icon" class="squarei sidebar-close">â˜°</button>
		</div>
		<div id="sidebar-panel" class="sidebar" style="transform: translateX(-100%)">
			<div id="sidebar-header">
			</div>
				<div id="sidebar-links">
				<a class="squarei" href="/">Home</a>
			{% if page.title != "Verghost" %}
				<a class="squarei" href="../">Back</a>
			{% endif %}
			{% if page.vgsidebar %}
				{% assign vgsentries = page.vgsidebar | split: "," %}
				{% for entry in vgsentries %}
					{% assign e = entry | split: ":" %}
					<a class="squarei" href="{{ e[0] }}">{{ e[1] }}</a>
				{% endfor %}
			{% endif %}
			</div>
		</div>
		 
		<main id="content" class="main-content" role="main">
				{{ content }}

			<footer class="site-footer">
			{% if site.github.is_project_page %}
			  <span class="site-footer-owner">Maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</span>
			{% endif %}
				<span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
			</footer>
		</main>
		<script>
			var sidebar_hasinit = false;
			var sidebar_open = false;
			var sidebar_panel;
			
			function sidebar_toggle() {
				if(sidebar_open) {
					document.querySelector("#sidebar-panel").style.transform = 'translateX(-100%)';
					document.querySelector("#btn-sidebar-icon").style.transform = 'none';
					sidebar_open = false;
				} else {
					document.querySelector("#sidebar-panel").style.transform = 'none';
					document.querySelector("#btn-sidebar-icon").style.transform = 'rotateZ(90deg)';
					sidebar_open = true;
				}	
			}
			
			function add_sidebar(text, link) {
				if(!sidebar_panel) sidebar_panel = dq("#sidebar-panel");
				let atag = document.createElement("a");
				atag.className = "squarei";
				atag.href = link;
				atag.innerText = text;
				sidebar_panel.appendChild(atag);
			}
			document.addEventListener('click', (e) => {
				let s = e.srcElement;
				if(s.id.indexOf("sidebar") !== -1) {
					sidebar_toggle();
				} else if(sidebar_open) sidebar_toggle();
			});
			window.addEventListener('load', () => { 
				let ht = dq("#content").getElementsByTagName("h1");
				for(let i = 0; i < ht.length; i++) {
					add_sidebar(ht[i].innerText, `#${ht[i].id}`);
				}
				add_sidebar("About", "/about");
				sidebar_hasinit = true;
			});
		</script>
	</body>
</html>
